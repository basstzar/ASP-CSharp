<html>
<head><title>Color Scheme - Using Frames</title>
<!--
Created by Lynn Komarek 2003
Inspired by: Color Harmony for the web
Author: Cailin Boyle
Publisher: Rockport Press

RGB to Hex algorithms/functions courtesy of:
http://www.javascripter.net/faq/rgbtohex.htm
JavaScripter.net Copyright © 1999-2000, Alexei Kourbatov 

-->
<style type="text/css">
  .outer {border: solid thin silver;}
</style>

<script type="text/javascript">
  var rFrame=null;			//reference to right and left frame
  var lFrame=null;
  var doc;			//reference to frame according to browser
  var cNum=1;			//reference to the number written for each color
  var cWin = null;			//reference to user's choice popup color window
  var sWin = null;			//reference to scheme choice popup color window
  //elements in Cwin
  var c1=null, c2=null, c3=null, h1=null, h2=null, h3=null;

  // RGB:  00 51 102 153 204 255
  var R=0, G=0, B=0, H="";		//R=Rgb value, G=rGb value, B=rgB value, H=hex num as string

  var swatch = new Array();		//array holding hex number of color, values assigned in innerTable() fxn
  var websafe = new Array(216);		//assoc. array used for schemes to print color #

//determine browser used
function browserVer() {
    rFrame = document.getElementById("right");
    lFrame = document.getElementById("left");
    //Mozilla browser
    if (rFrame.contentDocument) {
      doc = rFrame.contentDocument;
    }
    //IE browser
    if (rFrame.document) {
      doc = rFrame.contentWindow.document;
    }
}

//functions to increase RGB values and convert RGB to hex
function increaseVal() {
    B+=51;
    if (B>255) { 
      B=0;
      G+=51;
      if (G>255) {
        G=0;
        R+=51;
      }
    }
}

function RGBtoHex(R,G,B) {
    return toHex(R) + toHex(G) + toHex(B);
}

function toHex(N) {
    if (N==null) return "00";
    N=parseInt(N); if (N==0 || isNaN(N)) return "00";
    N=Math.max(0,N); N=Math.min(N,255); N=Math.round(N);
    return "0123456789ABCDEF".charAt((N-N%16)/16) + "0123456789ABCDEF".charAt(N%16);
}


//functions for displaying colors selected by selection box or by textbox

//function to write selected color scheme (from selection box) to new window
function showScheme(idx, name) {
    var csa_idx = 0;		//used for index # of color scheme array (nostalgic, etc)
    var wsa_idx = 0;		//used for index # of websafe array

    assignArray(idx, name);

    //schemes passed on select of an option in the select box
    if (sWin && !sWin.closed) {sWin.close();}

    var content = "<html><head><title>Color Scheme</title>";
    content += "<style type='text/css'>.tborder{border: solid thin silver;}";
    content += "</style></head><body>";

    //write outer table 
    content += "<table class='tborder' align='center' cellpadding='0' cellspacing='10' valign='middle'>";

    //each row 3 cells - each cell with own table and color scheme
    arrLength = (eval(name).length) / 3;
    for (var outRow=0; outRow<arrLength; outRow++) {
      //open outer row
      content += "<tr>";

      for (var outCell=0; outCell<3; outCell++) {
        //open outer cell and inner table
        content += "<td><table class='tborder' align='center' cellpadding='0' cellspacing='0' valign='middle'>";
        //open inner row
        content += "<tr>";

        //write inner color cells
        for (var inCell=0; inCell<3; inCell++) {
          //open inner cell
          content += "<td align='center' width='100' height='200' bgcolor='";
          content += eval(name + '[' + csa_idx + '].col' + inCell);
          content += "'></td>";
        }//end inCell
        csa_idx++;

        content += "</tr><tr class='tborder'>";

        //write inner color number to cells
        for (var inCell2=0; inCell2<3; inCell2++) {
          content += "<td valign='middle' align='center' width='100' height='25'>";
          //print out color number instead of hex number
          content += websafe[eval(name + '[' + wsa_idx + '].col' + inCell2)];
          content += "</td>";
        }//end inCell2 
        wsa_idx++;

        content += "</tr>";
        content += "</table></td>";
      }//end outCell

      content += "</tr>";
    }//end outRow


    // close outer table 
    content += "</table>";
    content += "<div style='text-align:center;padding:5px;'><a href='javascript:self.close();'>Close</a></div>";

    content += "</body></html>";

    //open window
    sWin = window.open("","","width=750,height=700,resizable=yes,scrollbars=yes,toolbar=no,menubar=no,left=150,top=0");
    sWin.document.write(content);
    sWin.focus();
}


//function to write selected color scheme (from textboxes) to new window
function showColors(a,b,c) {
    //user's entered color numbers from textboxes - passed to fxn a,b,c
    if (cWin && !cWin.closed) {cWin.close();}

    //open new win and write to it
    var content = "<html><head>";
    content += "<title>Color Scheme</title>";
    content += "<style type='text/css'>.tborder{border: solid thin silver;}";
    content += "#c1{background-color: " + swatch[parseInt(a)] + ";}";
    content += "#c2{background-color: " + swatch[parseInt(b)] + ";}";
    content += "#c3{background-color: " + swatch[parseInt(c)] + ";}";
    content += "</style></head><body>";
    content += "<!-- user swatch table --><table class='tborder' align='center' cellpadding='0' cellspacing='0' valign='middle'>";
    content += "<!-- displays hex color swatch -->";
    content += "<tr><td id='c1' align='center' width='100' height='200'></td>";
    content += "<td id='c2' align='center' width='100' height='200'></td>";
    content += "<td id='c3' align='center' width='100' height='200'></td></tr>";
    content += "<!-- displays hex number -->";
    content += "<tr class='tborder'><td id='h1' valign='middle' align='center' width='100' height='25'>" + swatch[a] + "</td>";
    content += "<td id='h2' valign='middle' align='center' width='100' height='25'>" + swatch[b] + "</td>";
    content += "<td id='h3' valign='middle' align='center' width='100' height='25'>" + swatch[c] + "</td>";
    content += "</tr></table>";

// start 2/27 test - works IE but Moz brings in left frame
    content += "<table cellpadding='5'><tr>";
    content += "<td><a href='#' onclick='document.body.style.backgroundColor=\"#000000\";return false;'>#000000</a></td>";
    content += "<td><a href='#' onclick='document.body.style.backgroundColor=\"#333333\";return false;'>#333333</a></td>";
    content += "<td><a href='#' onclick='document.body.style.backgroundColor=\"#666666\";return false;'>#666666</a></td>";
    content += "<td><a href='#' onclick='document.body.style.backgroundColor=\"#999999\";return false;'>#999999</a></td>";
    content += "<td><a href='#' onclick='document.body.style.backgroundColor=\"#cccccc\";return false;'>#cccccc</a></td>";
    content += "<td><a href='#' onclick='document.body.style.backgroundColor=\"#ffffff\";return false;'>#ffffff</a></td>";
    content += "</tr></table>";
// end 2/27 test

    content += "<div style='text-align:center;padding:5px;'><a href='javascript:self.close();'>Close</a></div></body></html>";

    cWin = window.open("","","width=350,height=275,scrollbars=no,toolbar=no,menubar=no,left=400,top=200");
    cWin.document.write(content);
    cWin.focus();
}

//functions to write initial web safe colors to table in right frame
function innerTable() {
    //assigns hex num to h
    H = "#"+RGBtoHex(R,G,B);
    swatch[cNum] = H;

    doc.write("<table id='t"+cNum+"' style='color:#000000;'>");
//alert("<table id='t"+cNum+"' style='color:#000000;'>");	
    doc.write("<tr>");
      doc.write("<td><b>#" + cNum + "</b></td>");
      doc.write("<td rowspan='4' align='center' width='25' bgColor='" + H + "'></td>");
      //doc.write("<td rowspan='4' align='center' width='25' bgColor='#" + RGBtoHex(R,G,B) + "'></td>");
    doc.write("</tr><tr>");
      doc.write("<td>R: " + R + "</td>");
    doc.write("</tr><tr>");
      doc.write("<td>G: " + G + "</td>");
    doc.write("</tr><tr>");
      doc.write("<td>B: " + B + "</td>");
    doc.write("</tr><tr>");
      doc.write("<td align='center' colspan='2'>hex " + H + "</td>");
      //doc.write("<td align='center' colspan='2'>hex #" + RGBtoHex(R,G,B) + "</td>");
    doc.write("</tr>");
    doc.write("</table>");

    //assigns hex num to h
    //H = "#"+RGBtoHex(R,G,B);
    //swatch[cNum] = H;

    //assigns color number to associative array using hex
    websafe[H] = cNum;

    //increase cNum
    cNum++;

    //increase rgb numbers
    increaseVal();
}

function drawTable() {
    browserVer();
    doc.write("<table class='outer' cellspacing='0' cellpadding='5' align='center'>");
    for (var y=1; y<37; y++) {
       doc.write("<tr>");
        for (var x=1; x<7; x++) {
          doc.write("<td class='outer' align='center'>");
          innerTable();
          doc.write("</td>");
        }
      doc.write("</tr>");
    }
    doc.write("</table>");
}

</script>

<script type="text/javascript" src="schemeStuff.js"></script>


</head>
<frameset name="outerFrameset" id="outerFrameset" cols="160,*">

      <frame src="left.htm" name="left" id="left" noresize="noresize" frameborder="0">
      <frame src="right.htm" name="right" id="right" noresize="noresize" frameborder="0">

</frameset><noframes></noframes>
</html>



